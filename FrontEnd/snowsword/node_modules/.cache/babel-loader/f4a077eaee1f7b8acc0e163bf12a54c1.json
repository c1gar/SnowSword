{"remainingRequest":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/terminal/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/terminal/index.vue","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/babel.config.js","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js","mtime":1715570465906},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js","mtime":1715570461633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5mcm9tLWNvZGUtcG9pbnQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKaW1wb3J0ICJ4dGVybS9jc3MveHRlcm0uY3NzIjsKaW1wb3J0IHsgVGVybWluYWwgfSBmcm9tICJ4dGVybSI7CmltcG9ydCB7IEZpdEFkZG9uIH0gZnJvbSAieHRlcm0tYWRkb24tZml0IjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3ZWJzaGVsbHM6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBpZDogMSwKICAgICAgICAvLyAgIHVybDogImh0dHA6Ly9xcS5jb20vMS5waHAiLAogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgY29udGVudDogewogICAgICAgIGN1cnJlbnRUYWJOYW1lOiBudWxsLAogICAgICAgIHRhYkluZGV4OiAwLAogICAgICAgIHRhYnM6IFsKICAgICAgICAgIC8vIHsKICAgICAgICAgIC8vICAgdGl0bGU6ICdUYWIgMScsCiAgICAgICAgICAvLyAgIG5hbWU6ICcxJywKICAgICAgICAgIC8vIH0KICAgICAgICBdCiAgICAgIH0sCiAgICAgIHNlbGVjdFdlYnNoZWxsRm9ybTogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHdlYnNoZWxsSWQ6IG51bGwKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVRhYnNFZGl0OiBmdW5jdGlvbiBoYW5kbGVUYWJzRWRpdCh0YXJnZXROYW1lLCBhY3Rpb24pIHsKICAgICAgaWYgKGFjdGlvbiA9PT0gJ2FkZCcpIHsKICAgICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsKGZhbHNlKTsKICAgICAgfQogICAgICBpZiAoYWN0aW9uID09PSAncmVtb3ZlJykgewogICAgICAgIHZhciB0YWJzID0gdGhpcy5jb250ZW50LnRhYnM7CiAgICAgICAgdmFyIGFjdGl2ZU5hbWUgPSB0aGlzLmNvbnRlbnQuY3VycmVudFRhYk5hbWU7CiAgICAgICAgaWYgKGFjdGl2ZU5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAodGFiLCBpbmRleCkgewogICAgICAgICAgICBpZiAodGFiLm5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICAgICAgICB2YXIgbmV4dFRhYiA9IHRhYnNbaW5kZXggKyAxXSB8fCB0YWJzW2luZGV4IC0gMV07CiAgICAgICAgICAgICAgaWYgKG5leHRUYWIpIHsKICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPSBuZXh0VGFiLm5hbWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb250ZW50LmN1cnJlbnRUYWJOYW1lID0gYWN0aXZlTmFtZTsKICAgICAgICB0aGlzLmNvbnRlbnQudGFicyA9IHRhYnMuZmlsdGVyKGZ1bmN0aW9uICh0YWIpIHsKICAgICAgICAgIHJldHVybiB0YWIubmFtZSAhPT0gdGFyZ2V0TmFtZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGZldGNoV2Vic2hlbGxEYXRhOiBmdW5jdGlvbiBmZXRjaFdlYnNoZWxsRGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL3dlYnNoZWxsL2ZpbmRBbGwnLAogICAgICAgIG1ldGhvZDogJ2dldCcKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy53ZWJzaGVsbHMgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdFdlYnNoZWxsOiBmdW5jdGlvbiBzZWxlY3RXZWJzaGVsbChpc0FkZFRhYikgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgaWYgKGlzQWRkVGFiKSB7CiAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgIHZhciBuZXdUYWJOYW1lID0gKyt0aGlzLmNvbnRlbnQudGFiSW5kZXggKyAnJzsKICAgICAgICB2YXIgaWQgPSB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS53ZWJzaGVsbElkOwogICAgICAgIHZhciBpbmRleCA9IHRoaXMuY29udGVudC50YWJzLnB1c2goewogICAgICAgICAgdGl0bGU6ICLliqDovb3kuK0uLi4iLAogICAgICAgICAgbmFtZTogbmV3VGFiTmFtZSwKICAgICAgICAgIGlkOiBpZAogICAgICAgIH0pIC0gMTsKICAgICAgICB0aGlzLmNvbnRlbnQuY3VycmVudFRhYk5hbWUgPSBuZXdUYWJOYW1lOwogICAgICAgIHJlcXVlc3QoewogICAgICAgICAgdXJsOiAnL3dlYnNoZWxsL2dldFRlcm1pbmFsSW5mb0J5SWQnLAogICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogaWQKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgLy/orr7nva50YWLmoIfpopgKICAgICAgICAgIHZhciB1cmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICAgIHZhciByZXMgPSB1cmwubWF0Y2goL2h0dHBzPzpcL1wvKC4qKT9cLy8pOwogICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICBfdGhpczIuY29udGVudC50YWJzW2luZGV4XS50aXRsZSA9IHJlc1sxXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5jb250ZW50LnRhYnNbaW5kZXhdLnRpdGxlID0gdXJsOwogICAgICAgICAgfQoKICAgICAgICAgIC8v5Yid5aeL5YyWVGVybWluYWwKICAgICAgICAgIHZhciB0ZXJtID0gbmV3IFRlcm1pbmFsKHsKICAgICAgICAgICAgLy9mb250U2l6ZTogMTQsCiAgICAgICAgICAgIHJlbmRlcmVyVHlwZTogImNhbnZhcyIsCiAgICAgICAgICAgIC8v5riy5p+T57G75Z6LCiAgICAgICAgICAgIHJvd3M6IDUwLAogICAgICAgICAgICAvL+ihjOaVsAogICAgICAgICAgICAvL2NvbHM6IHBhcnNlSW50KF90aGlzLmNvbHMpLCAvLyDkuI3mjIflrprooYzmlbDvvIzoh6rliqjlm57ovablkI7lhYnmoIfku47kuIvkuIDooYzlvIDlp4sKICAgICAgICAgICAgY29udmVydEVvbDogdHJ1ZSwKICAgICAgICAgICAgLy/lkK/nlKjml7bvvIzlhYnmoIflsIborr7nva7kuLrkuIvkuIDooYznmoTlvIDlpLQKICAgICAgICAgICAgLy9zY3JvbGxiYWNrOiA1MCwgLy/nu4jnq6/kuK3nmoTlm57mu5rph48KICAgICAgICAgICAgZGlzYWJsZVN0ZGluOiBmYWxzZSwKICAgICAgICAgICAgLy/mmK/lkKblupTnpoHnlKjovpPlhaXjgIIKICAgICAgICAgICAgY3Vyc29yU3R5bGU6ICJ1bmRlcmxpbmUiLAogICAgICAgICAgICAvL+WFieagh+agt+W8jwogICAgICAgICAgICBjdXJzb3JCbGluazogdHJ1ZSwKICAgICAgICAgICAgLy/lhYnmoIfpl6rng4EKICAgICAgICAgICAgdGhlbWU6IHsKICAgICAgICAgICAgICBmb3JlZ3JvdW5kOiAiI0JGQ0JEOSIsCiAgICAgICAgICAgICAgLy/lrZfkvZMKICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAiIzMwNDE1NiIsCiAgICAgICAgICAgICAgLy/og4zmma/oibIKICAgICAgICAgICAgICBjdXJzb3I6ICJoZWxwIiAvL+iuvue9ruWFieaghwogICAgICAgICAgICAgIC8vbGluZUhlaWdodDogMTYsCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGZpdEFkZG9uID0gbmV3IEZpdEFkZG9uKCk7CiAgICAgICAgICB0ZXJtLmxvYWRBZGRvbihmaXRBZGRvbik7CiAgICAgICAgICBfdGhpczIuY29udGVudC50YWJzW2luZGV4XS50ZXJtID0gdGVybTsKICAgICAgICAgIF90aGlzMi5jb250ZW50LnRhYnNbaW5kZXhdLmZpdEFkZG9uID0gZml0QWRkb247CiAgICAgICAgICBfdGhpczIuY29udGVudC50YWJzW2luZGV4XS5wYXRoID0gcmVzcG9uc2UuZGF0YS5wYXRoOwogICAgICAgICAgX3RoaXMyLmNvbnRlbnQudGFic1tpbmRleF0uaG9zdG5hbWUgPSByZXNwb25zZS5kYXRhLmhvc3RuYW1lOwogICAgICAgICAgX3RoaXMyLmNvbnRlbnQudGFic1tpbmRleF0udXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcjsKICAgICAgICAgIF90aGlzMi4kZm9yY2VVcGRhdGUoKTsKICAgICAgICAgIF90aGlzMi5vcGVuVGVybShfdGhpczIuJHJlZnNbInh0ZXJtIiArIG5ld1RhYk5hbWVdWzBdLiRlbCwgX3RoaXMyLmNvbnRlbnQudGFic1tpbmRleF0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMyLmNvbnRlbnQudGFic1tpbmRleF0udGl0bGUgPSAi5Yqg6L295aSx6LSlIjsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS52aXNpYmxlID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIG9wZW5UZXJtOiBmdW5jdGlvbiBvcGVuVGVybShjb21wb25lbnQsIHRhYikgewogICAgICB0YWIudGVybS5vcGVuKGNvbXBvbmVudCk7CiAgICAgIHRhYi5maXRBZGRvbi5maXQoKTsKICAgICAgdGFiLnRlcm0uZm9jdXMoKTsKICAgICAgdmFyIHByb21wdCA9IHRhYi51c2VyICsgIkAiICsgdGFiLmhvc3RuYW1lICsgIjogIiArIHRhYi5wYXRoOwogICAgICB0YWIudGVybS53cml0ZWxuKHByb21wdCk7CiAgICAgIHRhYi50ZXJtLndyaXRlKCIkICIpOwogICAgICB0YWIuY29tbWFuZCA9ICIiOyAvL+WIneWni+WMluWRveS7pAogICAgICB0YWIudGVybU9uRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgLy/lnKh0YWLkuK3lrprkuYl0ZXJtT25EYXRh5Ye95pWwCgogICAgICAgIHN3aXRjaCAoZGF0YSkgewogICAgICAgICAgY2FzZSBTdHJpbmcuZnJvbUNvZGVQb2ludCgxMyk6CiAgICAgICAgICAgIC8v5Zue6L2mCiAgICAgICAgICAgIHRhYi50ZXJtLndyaXRlKGRhdGEgKyAiXG4iKTsKICAgICAgICAgICAgaWYgKHRhYi5jb21tYW5kLnRyaW0oKSA9PSAiY2xlYXIiIHx8IHRhYi5jb21tYW5kLnRyaW0oKSA9PSAiY2xzIikgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKDEpOwogICAgICAgICAgICAgIHRhYi50ZXJtLmNsZWFyKCk7CiAgICAgICAgICAgICAgdGFiLnRlcm0ud3JpdGUoIlx4MUJbSFx4MUJbMkoiKTsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZXhlY3V0ZUNvbW1hbmRCeUlkJywKICAgICAgICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICBpZDogdGFiLmlkLAogICAgICAgICAgICAgICAgcGF0aDogdGFiLnBhdGgsCiAgICAgICAgICAgICAgICBjb21tYW5kOiB0YWIuY29tbWFuZAogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICB0YWIudGVybS53cml0ZWxuKHJlc3BvbnNlLmRhdGEucmVzdWx0KTsKICAgICAgICAgICAgICB0YWIucGF0aCA9IHJlc3BvbnNlLmRhdGEucGF0aDsKICAgICAgICAgICAgICB2YXIgcHJvbXB0ID0gdGFiLnVzZXIgKyAiQCIgKyB0YWIuaG9zdG5hbWUgKyAiOiAiICsgdGFiLnBhdGg7CiAgICAgICAgICAgICAgdGFiLnRlcm0ud3JpdGVsbihwcm9tcHQpOwogICAgICAgICAgICAgIHRhYi50ZXJtLndyaXRlKCIkICIpOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB0YWIuY29tbWFuZCA9ICIiOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgU3RyaW5nLmZyb21Db2RlUG9pbnQoMTI3KToKICAgICAgICAgICAgLy/liKDpmaQKICAgICAgICAgICAgaWYgKHRhYi5jb21tYW5kLmxlbmd0aCA8PSAwKSB7CiAgICAgICAgICAgICAgLy/ovpPlhaXnmoRjb21tYW5k5Yig6Zmk5a6M5ZCO77yM5LiN5YaN5a+55Yig6Zmk6ZSu5YGa5Ye65Y+N5bqUCiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRhYi5jb21tYW5kLmNoYXJDb2RlQXQodGFiLmNvbW1hbmQubGVuZ3RoIC0gMSkgPiAxMjcpIHsKICAgICAgICAgICAgICAvL+WIpOaWreimgeWIoOmZpOeahOWtl+espuaYr+WQpuaYr+axieWtlwogICAgICAgICAgICAgIHRhYi50ZXJtLndyaXRlKCJcYlxiICBcYlxiIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGFiLnRlcm0ud3JpdGUoIlxiIFxiIik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdGFiLmNvbW1hbmQgPSB0YWIuY29tbWFuZC5zdWJzdHJpbmcoMCwgdGFiLmNvbW1hbmQubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSBTdHJpbmcuZnJvbUNvZGVQb2ludCgyNykgKyAiW0EiOgogICAgICAgICAgICAvL+S4igogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgU3RyaW5nLmZyb21Db2RlUG9pbnQoMjcpICsgIltCIjoKICAgICAgICAgICAgLy/kuIsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICBjYXNlIFN0cmluZy5mcm9tQ29kZVBvaW50KDI3KSArICJbRCI6CiAgICAgICAgICAgIC8v5bemCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSBTdHJpbmcuZnJvbUNvZGVQb2ludCgyNykgKyAiW0MiOgogICAgICAgICAgICAvL+WPswogICAgICAgICAgICBicmVhazsKICAgICAgICAgIGNhc2UgU3RyaW5nLmZyb21Db2RlUG9pbnQoOSk6CiAgICAgICAgICAgIC8vdGFiCiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgdGFiLmNvbW1hbmQgPSB0YWIuY29tbWFuZCArIGRhdGE7CiAgICAgICAgICAgIHRhYi50ZXJtLndyaXRlKGRhdGEpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdGFiLnRlcm0ub25EYXRhKHRhYi50ZXJtT25EYXRhKTsgLy/lnKh0ZXJtaW5hbOi+k+WFpeaVsOaNru+8jOS8muiwg+eUqHRhYuS4reeahHRlcm1PbkRhdGHlh73mlbDlubbkvKDlhaXovpPlhaXnmoTmlbDmja4KICAgIH0sCiAgICByZXNpemU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHsKICAgICAgZm9yICh2YXIgaW5kZXggaW4gdGhpcy5jb250ZW50LnRhYnMpIHsKICAgICAgICBpZiAodGhpcy5jb250ZW50LnRhYnNbaW5kZXhdLmZpdEFkZG9uKSB7CiAgICAgICAgICB0aGlzLmNvbnRlbnQudGFic1tpbmRleF0uZml0QWRkb24uZml0KCk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFdlYnNoZWxsRGF0YSgpOwogICAgdGhpcy5uYW1lID0gdGhpcy4kcm91dGUubmFtZTsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0ud2Vic2hlbGxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbCh0cnVlKTsKICAgIH0KICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZSk7CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUodG8sIGZyb20pIHsKICAgICAgaWYgKHRvLm5hbWUgPT0gdGhpcy5uYW1lKSB7CiAgICAgICAgdGhpcy5mZXRjaFdlYnNoZWxsRGF0YSgpOwogICAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgICAgIHRoaXMuc2VsZWN0V2Vic2hlbGxGb3JtLndlYnNoZWxsSWQgPSB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsKHRydWUpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHdpbmRvdy52dWUgPSB0aGlzOwogIH0KfTs="},{"version":3,"names":["request","Terminal","FitAddon","data","webshells","content","currentTabName","tabIndex","tabs","selectWebshellForm","visible","webshellId","methods","handleTabsEdit","targetName","action","selectWebshell","activeName","forEach","tab","index","name","nextTab","filter","fetchWebshellData","_this","url","method","then","response","catch","error","console","log","isAddTab","_this2","newTabName","id","push","title","params","res","match","term","rendererType","rows","convertEol","disableStdin","cursorStyle","cursorBlink","theme","foreground","background","cursor","fitAddon","loadAddon","path","hostname","user","$forceUpdate","openTerm","$refs","$el","component","open","fit","focus","prompt","writeln","write","command","termOnData","String","fromCodePoint","trim","clear","result","length","charCodeAt","substring","onData","resize","created","$route","window","addEventListener","watch","to","from","mounted","vue"],"sources":["src/views/terminal/index.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-main>\n      <el-tabs v-model=\"content.currentTabName\" type=\"card\" editable @edit=\"handleTabsEdit\">\n        <el-tab-pane\n          :ref=\"'xterm'+item.name\"\n          v-for=\"item in content.tabs\"\n          :key=\"item.name\"\n          :label=\"item.title\"\n          :name=\"item.name\"\n        >\n\n        </el-tab-pane>\n      </el-tabs>\n      <el-empty v-if=\"content.tabs.length == 0\" description=\"未选择Webshell\"></el-empty>\n    </el-main>\n\n    <el-dialog title=\"选择数据\" :visible.sync=\"selectWebshellForm.visible\" width=\"40%\">\n      <el-form :model=\"selectWebshellForm\">\n        <el-form-item label=\"URL\" required>\n          <el-select v-model=\"selectWebshellForm.webshellId\" placeholder=\"请选择\" style=\"width:85%\">\n            <el-option\n              v-for=\"item in webshells\"\n              :key=\"item.id\"\n              :label=\"item.url\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"selectWebshellForm.visible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"selectWebshell(true)\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </el-container>\n</template>\n\n<script>\n  import request from '@/utils/request'\n  import \"xterm/css/xterm.css\";\n  import { Terminal } from \"xterm\";\n  import { FitAddon } from \"xterm-addon-fit\";\n\n  export default {\n    data() {\n      return {\n        webshells: [\n          // {\n          //   id: 1,\n          //   url: \"http://qq.com/1.php\",\n          // }\n        ],\n\n        content:{\n          currentTabName: null,\n          tabIndex:0,\n\n          tabs:[\n            // {\n            //   title: 'Tab 1',\n            //   name: '1',\n            // }\n          ],\n        },\n\n        selectWebshellForm:{\n          visible: false,\n          webshellId: null\n        },\n\n\n\n      }\n    },\n    methods: {\n      handleTabsEdit(targetName, action) {\n        if (action === 'add') {\n          this.selectWebshell(false);\n        }\n        if (action === 'remove') {\n          let tabs = this.content.tabs;\n          let activeName = this.content.currentTabName;\n          if (activeName === targetName) {\n            tabs.forEach((tab, index) => {\n              if (tab.name === targetName) {\n                let nextTab = tabs[index + 1] || tabs[index - 1];\n                if (nextTab) {\n                  activeName = nextTab.name;\n                }\n              }\n            });\n          }\n          \n          this.content.currentTabName = activeName;\n          this.content.tabs = tabs.filter(tab => tab.name !== targetName);\n        }\n      },\n\n      fetchWebshellData(){\n        request({\n          url: '/webshell/findAll',\n          method: 'get',\n        }).then(response => {\n          this.webshells = response.data;\n        }).catch(error => {\n          console.log(error);\n        })\n      },\n\n      selectWebshell(isAddTab){\n        if(isAddTab){\n          this.selectWebshellForm.visible = false;\n          let newTabName = ++this.content.tabIndex + '';\n          var id = this.selectWebshellForm.webshellId;\n\n          var index = this.content.tabs.push({\n            title: \"加载中...\",\n            name: newTabName,\n            id:id\n          })-1;\n          this.content.currentTabName = newTabName;\n\n          request({\n            url: '/webshell/getTerminalInfoById',\n            method: 'get',\n            params: { id:id } \n          }).then(response => {\n\n            //设置tab标题\n            var url = response.data.url;\n            var res = url.match(/https?:\\/\\/(.*)?\\//);\n            if(res){\n              this.content.tabs[index].title = res[1];\n            }else{\n              this.content.tabs[index].title = url;\n            }\n\n            //初始化Terminal\n            const term = new Terminal({\n              //fontSize: 14,\n              rendererType: \"canvas\", //渲染类型\n              rows: 50, //行数\n              //cols: parseInt(_this.cols), // 不指定行数，自动回车后光标从下一行开始\n              convertEol: true, //启用时，光标将设置为下一行的开头\n              //scrollback: 50, //终端中的回滚量\n              disableStdin: false, //是否应禁用输入。\n              cursorStyle: \"underline\", //光标样式\n              cursorBlink: true, //光标闪烁\n              theme: {\n                foreground: \"#BFCBD9\", //字体\n                background: \"#304156\", //背景色\n                cursor: \"help\", //设置光标\n                //lineHeight: 16,\n              },\n            });\n            const fitAddon = new FitAddon();\n            term.loadAddon(fitAddon);\n\n            this.content.tabs[index].term = term;\n            this.content.tabs[index].fitAddon = fitAddon;\n            this.content.tabs[index].path = response.data.path;\n            this.content.tabs[index].hostname = response.data.hostname;\n            this.content.tabs[index].user = response.data.user;\n            this.$forceUpdate();\n\n            this.openTerm(this.$refs[\"xterm\"+newTabName][0].$el,this.content.tabs[index]);\n            \n          }).catch(error => {\n            this.content.tabs[index].title = \"加载失败\";\n            console.log(error);\n          })\n\n        }else{\n          this.selectWebshellForm.visible = true;\n        }\n      },\n\n      openTerm(component,tab){\n        tab.term.open(component);\n        tab.fitAddon.fit();\n        tab.term.focus();\n        var prompt = tab.user+\"@\"+tab.hostname+\": \"+tab.path;\n        tab.term.writeln(prompt);\n        tab.term.write(\"$ \");\n        \n        tab.command = \"\"; //初始化命令\n        tab.termOnData = function(data){  //在tab中定义termOnData函数\n\n          switch (data) {\n            case String.fromCodePoint(13): //回车\n              tab.term.write(data + \"\\n\");\n\n              if(tab.command.trim() == \"clear\" || tab.command.trim() == \"cls\") {\n                console.log(1);\n                tab.term.clear();\n                tab.term.write(\"\\u001b[H\\u001b[2J\");\n              }\n              \n              request({\n                url: '/webshell/executeCommandById',\n                method: 'post',\n                data: { \n                  id: tab.id,\n                  path: tab.path,\n                  command: tab.command\n                } \n              }).then(response => {\n                tab.term.writeln(response.data.result);\n                tab.path = response.data.path;\n\n                var prompt = tab.user+\"@\"+tab.hostname+\": \"+tab.path;\n                tab.term.writeln(prompt);\n                tab.term.write(\"$ \");\n              }).catch(error => {\n                console.log(error);\n              })\n\n              tab.command = \"\";\n              break;\n            case String.fromCodePoint(127): //删除\n              if (tab.command.length <= 0) { //输入的command删除完后，不再对删除键做出反应\n                break;\n              }\n              if (tab.command.charCodeAt(tab.command.length - 1) > 127) { //判断要删除的字符是否是汉字\n                tab.term.write(\"\\b\\b  \\b\\b\");\n              } else {\n                tab.term.write(\"\\b \\b\");\n              }\n              tab.command = tab.command.substring(0, tab.command.length - 1);\n              break;\n            case String.fromCodePoint(27) + \"[A\": //上\n              break;\n            case String.fromCodePoint(27) + \"[B\": //下\n              break;\n            case String.fromCodePoint(27) + \"[D\": //左\n              break;\n            case String.fromCodePoint(27) + \"[C\": //右\n              break;\n            case String.fromCodePoint(9): //tab\n              break;\n            default:\n              tab.command = tab.command + data;\n              tab.term.write(data);\n          }\n        };\n\n        tab.term.onData(tab.termOnData); //在terminal输入数据，会调用tab中的termOnData函数并传入输入的数据\n      },\n\n      resize(){\n        for(var index in this.content.tabs){\n          if (this.content.tabs[index].fitAddon){\n            this.content.tabs[index].fitAddon.fit();\n          }\n        }\n      }\n\n    },\n\n    created(){\n      this.fetchWebshellData();\n      this.name = this.$route.name;\n      if(this.$route.params.id){\n        this.selectWebshellForm.webshellId = this.$route.params.id\n        this.selectWebshell(true);\n      }\n\n      window.addEventListener('resize', this.resize);\n    },\n\n    watch: {\n      $route(to, from) {\n        if(to.name == this.name){\n          this.fetchWebshellData();\n          if(this.$route.params.id){\n            this.selectWebshellForm.webshellId = this.$route.params.id\n            this.selectWebshell(true);\n          }\n        }\n      }\n    },\n\n    mounted(){\n      window.vue = this;\n    },\n\n  };\n</script>"],"mappings":"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","ignoreList":[]}]}