{"remainingRequest":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/overview/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/overview/index.vue","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/babel.config.js","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js","mtime":1715570465906},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js","mtime":1715570461633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3ZWJzaGVsbHM6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBpZDogMSwKICAgICAgICAvLyAgIHVybDogImh0dHA6Ly9xcS5jb20vMS5waHAiLAogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgb3ZlcnZpZXc6IHsKICAgICAgICBjdXJyZW50VGFiTmFtZTogbnVsbCwKICAgICAgICB0YWJJbmRleDogMCwKICAgICAgICB0YWJzOiBbCiAgICAgICAgICAvLyB7dGl0bGU6ICdUYWIgMScsCiAgICAgICAgICAvLyBuYW1lOiAnMScsCgogICAgICAgICAgLy8gdXJsOicnLAogICAgICAgICAgLy8gaXBfYWRkcmVzczonJywKICAgICAgICAgIC8vIGFkZHJlc3M6JycsCiAgICAgICAgICAvLyB1c2VyOicnLAogICAgICAgICAgLy8gaG9zdG5hbWU6JycsCiAgICAgICAgICAvLyB2ZXJzaW9uOicnLAogICAgICAgICAgLy8gc2NyaXB0X2ZpbGVuYW1lOicnLAogICAgICAgICAgLy8gb3M6JycsCiAgICAgICAgICAvLyBwcm9jZXNzX2xpc3Q6Jyd9CiAgICAgICAgXQogICAgICB9LAogICAgICBzZWxlY3RXZWJzaGVsbEZvcm06IHsKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICB3ZWJzaGVsbElkOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVUYWJzRWRpdDogZnVuY3Rpb24gaGFuZGxlVGFic0VkaXQodGFyZ2V0TmFtZSwgYWN0aW9uKSB7CiAgICAgIGlmIChhY3Rpb24gPT09ICdhZGQnKSB7CiAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbChmYWxzZSk7CiAgICAgIH0KICAgICAgaWYgKGFjdGlvbiA9PT0gJ3JlbW92ZScpIHsKICAgICAgICB2YXIgdGFicyA9IHRoaXMub3ZlcnZpZXcudGFiczsKICAgICAgICB2YXIgYWN0aXZlTmFtZSA9IHRoaXMub3ZlcnZpZXcuY3VycmVudFRhYk5hbWU7CiAgICAgICAgaWYgKGFjdGl2ZU5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAodGFiLCBpbmRleCkgewogICAgICAgICAgICBpZiAodGFiLm5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICAgICAgICB2YXIgbmV4dFRhYiA9IHRhYnNbaW5kZXggKyAxXSB8fCB0YWJzW2luZGV4IC0gMV07CiAgICAgICAgICAgICAgaWYgKG5leHRUYWIpIHsKICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPSBuZXh0VGFiLm5hbWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5vdmVydmlldy5jdXJyZW50VGFiTmFtZSA9IGFjdGl2ZU5hbWU7CiAgICAgICAgdGhpcy5vdmVydmlldy50YWJzID0gdGFicy5maWx0ZXIoZnVuY3Rpb24gKHRhYikgewogICAgICAgICAgcmV0dXJuIHRhYi5uYW1lICE9PSB0YXJnZXROYW1lOwogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgZmV0Y2hXZWJzaGVsbERhdGE6IGZ1bmN0aW9uIGZldGNoV2Vic2hlbGxEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZmluZEFsbCcsCiAgICAgICAgbWV0aG9kOiAnZ2V0JwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLndlYnNoZWxscyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0V2Vic2hlbGw6IGZ1bmN0aW9uIHNlbGVjdFdlYnNoZWxsKGlzQWRkVGFiKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAoaXNBZGRUYWIpIHsKICAgICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS52aXNpYmxlID0gZmFsc2U7CiAgICAgICAgdmFyIG5ld1RhYk5hbWUgPSArK3RoaXMub3ZlcnZpZXcudGFiSW5kZXggKyAnJzsKICAgICAgICB2YXIgaWQgPSB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS53ZWJzaGVsbElkOwogICAgICAgIHZhciBpbmRleCA9IHRoaXMub3ZlcnZpZXcudGFicy5wdXNoKHsKICAgICAgICAgIHRpdGxlOiAi5Yqg6L295LitLi4uIiwKICAgICAgICAgIG5hbWU6IG5ld1RhYk5hbWUsCiAgICAgICAgICBpZDogaWQKICAgICAgICB9KSAtIDE7CiAgICAgICAgdGhpcy5vdmVydmlldy5jdXJyZW50VGFiTmFtZSA9IG5ld1RhYk5hbWU7CiAgICAgICAgcmVxdWVzdCh7CiAgICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZ2V0QW5kVXBkYXRlSW5mb0J5SWQnLAogICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogaWQKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIHVybCA9IHJlc3BvbnNlLmRhdGEudXJsOwogICAgICAgICAgdmFyIHJlcyA9IHVybC5tYXRjaCgvaHR0cHM/OlwvXC8oLiopP1wvLyk7CiAgICAgICAgICBpZiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS50aXRsZSA9IHJlc1sxXTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS50aXRsZSA9IHVybDsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS51cmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS5pcF9hZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5pcF9hZGRyZXNzOwogICAgICAgICAgX3RoaXMyLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLmFkZHJlc3MgPSByZXNwb25zZS5kYXRhLmFkZHJlc3M7CiAgICAgICAgICBfdGhpczIub3ZlcnZpZXcudGFic1tpbmRleF0udXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcjsKICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS5ob3N0bmFtZSA9IHJlc3BvbnNlLmRhdGEuaG9zdG5hbWU7CiAgICAgICAgICBfdGhpczIub3ZlcnZpZXcudGFic1tpbmRleF0udmVyc2lvbiA9IHJlc3BvbnNlLmRhdGEudmVyc2lvbjsKICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS5zY3JpcHRfZmlsZW5hbWUgPSByZXNwb25zZS5kYXRhLnNjcmlwdF9maWxlbmFtZTsKICAgICAgICAgIF90aGlzMi5vdmVydmlldy50YWJzW2luZGV4XS5vcyA9IHJlc3BvbnNlLmRhdGEub3M7CiAgICAgICAgICBfdGhpczIuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgdXJsOiAnL3dlYnNoZWxsL2dldFByb2Nlc3NMaXN0QnlJZCcsCiAgICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICAgIGlkOiBpZAogICAgICAgICAgICB9CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBfdGhpczIub3ZlcnZpZXcudGFic1tpbmRleF0ucHJvY2Vzc19saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgICAgX3RoaXMyLiRmb3JjZVVwZGF0ZSgpOwogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMyLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnRpdGxlID0gIuWKoOi9veWksei0pSI7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0udmlzaWJsZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoSW5mbzogZnVuY3Rpb24gcmVmcmVzaEluZm8oaW5kZXgsIHdlYnNoZWxJZCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS51cmwgPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5pcF9hZGRyZXNzID0gJyc7CiAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0uYWRkcmVzcyA9ICcnOwogICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnVzZXIgPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5ob3N0bmFtZSA9ICcnOwogICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnZlcnNpb24gPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5zY3JpcHRfZmlsZW5hbWUgPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5vcyA9ICcnOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZ2V0QW5kVXBkYXRlSW5mb0J5SWQnLAogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBpZDogd2Vic2hlbElkCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5vdmVydmlldy50YWJzW2luZGV4XS51cmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICBfdGhpczMub3ZlcnZpZXcudGFic1tpbmRleF0uaXBfYWRkcmVzcyA9IHJlc3BvbnNlLmRhdGEuaXBfYWRkcmVzczsKICAgICAgICBfdGhpczMub3ZlcnZpZXcudGFic1tpbmRleF0uYWRkcmVzcyA9IHJlc3BvbnNlLmRhdGEuYWRkcmVzczsKICAgICAgICBfdGhpczMub3ZlcnZpZXcudGFic1tpbmRleF0udXNlciA9IHJlc3BvbnNlLmRhdGEudXNlcjsKICAgICAgICBfdGhpczMub3ZlcnZpZXcudGFic1tpbmRleF0uaG9zdG5hbWUgPSByZXNwb25zZS5kYXRhLmhvc3RuYW1lOwogICAgICAgIF90aGlzMy5vdmVydmlldy50YWJzW2luZGV4XS52ZXJzaW9uID0gcmVzcG9uc2UuZGF0YS52ZXJzaW9uOwogICAgICAgIF90aGlzMy5vdmVydmlldy50YWJzW2luZGV4XS5zY3JpcHRfZmlsZW5hbWUgPSByZXNwb25zZS5kYXRhLnNjcmlwdF9maWxlbmFtZTsKICAgICAgICBfdGhpczMub3ZlcnZpZXcudGFic1tpbmRleF0ub3MgPSByZXNwb25zZS5kYXRhLm9zOwogICAgICAgIF90aGlzMy4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0sCiAgICByZWZyZXNoUHJvY2Vzc0xpc3Q6IGZ1bmN0aW9uIHJlZnJlc2hQcm9jZXNzTGlzdChpbmRleCwgd2Vic2hlbElkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnByb2Nlc3NfbGlzdCA9ICcnOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZ2V0UHJvY2Vzc0xpc3RCeUlkJywKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHBhcmFtczogewogICAgICAgICAgaWQ6IHdlYnNoZWxJZAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczQub3ZlcnZpZXcudGFic1tpbmRleF0ucHJvY2Vzc19saXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczQuJGZvcmNlVXBkYXRlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5mZXRjaFdlYnNoZWxsRGF0YSgpOwogICAgdGhpcy5uYW1lID0gdGhpcy4kcm91dGUubmFtZTsKICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpIHsKICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0ud2Vic2hlbGxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbCh0cnVlKTsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IGZ1bmN0aW9uICRyb3V0ZSh0bywgZnJvbSkgewogICAgICBpZiAodG8ubmFtZSA9PSB0aGlzLm5hbWUpIHsKICAgICAgICB0aGlzLmZldGNoV2Vic2hlbGxEYXRhKCk7CiAgICAgICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0ud2Vic2hlbGxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZDsKICAgICAgICAgIHRoaXMuc2VsZWN0V2Vic2hlbGwodHJ1ZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["request","data","webshells","overview","currentTabName","tabIndex","tabs","selectWebshellForm","visible","webshellId","methods","handleTabsEdit","targetName","action","selectWebshell","activeName","forEach","tab","index","name","nextTab","filter","fetchWebshellData","_this","url","method","then","response","catch","error","console","log","isAddTab","_this2","newTabName","id","push","title","params","res","match","ip_address","address","user","hostname","version","script_filename","os","$forceUpdate","process_list","refreshInfo","webshelId","_this3","refreshProcessList","_this4","created","$route","watch","to","from"],"sources":["src/views/overview/index.vue"],"sourcesContent":["<template>\n  <el-container>\n    <el-main>\n      <el-tabs v-model=\"overview.currentTabName\" type=\"card\" editable @edit=\"handleTabsEdit\">\n        <el-tab-pane\n          :key=\"item.name\"\n          v-for=\"item, index in overview.tabs\"\n          :label=\"item.title\"\n          :name=\"item.name\"\n        >\n          <el-descriptions title=\"基础信息\" :column=\"1\" border>\n            <template slot=\"extra\">\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"刷新\" placement=\"left\">\n                <el-button circle icon=\"el-icon-refresh\" size=\"mini\" @click=\"refreshInfo(index, item.id)\"></el-button>\n              </el-tooltip>\n            </template>\n            <el-descriptions-item label=\"URL\">{{item.url}}</el-descriptions-item>\n            <el-descriptions-item label=\"IP地址\">{{item.ip_address}}</el-descriptions-item>\n            <el-descriptions-item label=\"物理地址\">{{item.address}}</el-descriptions-item>\n            <el-descriptions-item label=\"当前用户\">{{item.user}}</el-descriptions-item>\n            <el-descriptions-item label=\"主机名\">{{item.hostname}}</el-descriptions-item>\n            <el-descriptions-item label=\"PHP版本\">{{item.version}}</el-descriptions-item>\n            <el-descriptions-item label=\"脚本路径\">{{item.script_filename}}</el-descriptions-item>\n            <el-descriptions-item label=\"系统信息\">{{item.os}}</el-descriptions-item>\n          </el-descriptions>\n\n          <br>\n\n          <el-descriptions title=\"进程列表\" :colon=\"false\">\n            <template slot=\"extra\">\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"刷新\" placement=\"left\">\n                <el-button circle icon=\"el-icon-refresh\" size=\"mini\"  @click=\"refreshProcessList(index, item.id)\"></el-button>\n              </el-tooltip>\n            </template>\n            <el-descriptions-item>\n              <el-input\n                :readonly=\"true\"\n                type=\"textarea\"\n                :rows=\"10\"\n                v-model=\"item.process_list\">\n              </el-input>\n            </el-descriptions-item>\n          </el-descriptions>\n\n        </el-tab-pane>\n      </el-tabs>\n      <el-empty v-if=\"overview.tabs.length == 0\" description=\"未选择Webshell\"></el-empty>\n    </el-main>\n\n    <el-dialog title=\"选择数据\" :visible.sync=\"selectWebshellForm.visible\" width=\"40%\">\n      <el-form :model=\"selectWebshellForm\">\n        <el-form-item label=\"URL\" required>\n          <el-select v-model=\"selectWebshellForm.webshellId\" placeholder=\"请选择\" style=\"width:85%\">\n            <el-option\n              v-for=\"item in webshells\"\n              :key=\"item.id\"\n              :label=\"item.url\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"selectWebshellForm.visible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"selectWebshell(true)\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </el-container>\n</template>\n\n<style>\n</style>\n\n\n<script>\n  import request from '@/utils/request'\n\n  export default {\n    data() {\n      return {\n        webshells: [\n          // {\n          //   id: 1,\n          //   url: \"http://qq.com/1.php\",\n          // }\n        ],\n\n        overview:{\n          currentTabName: null,\n          tabIndex:0,\n\n          tabs:[\n            // {title: 'Tab 1',\n            // name: '1',\n            \n            // url:'',\n            // ip_address:'',\n            // address:'',\n            // user:'',\n            // hostname:'',\n            // version:'',\n            // script_filename:'',\n            // os:'',\n            // process_list:''}\n          ],\n        },\n\n        selectWebshellForm:{\n          visible: false,\n          webshellId: null\n        }\n\n      }\n    },\n    methods: {\n      handleTabsEdit(targetName, action) {\n        if (action === 'add') {\n          this.selectWebshell(false);\n        }\n        if (action === 'remove') {\n          let tabs = this.overview.tabs;\n          let activeName = this.overview.currentTabName;\n          if (activeName === targetName) {\n            tabs.forEach((tab, index) => {\n              if (tab.name === targetName) {\n                let nextTab = tabs[index + 1] || tabs[index - 1];\n                if (nextTab) {\n                  activeName = nextTab.name;\n                }\n              }\n            });\n          }\n          \n          this.overview.currentTabName = activeName;\n          this.overview.tabs = tabs.filter(tab => tab.name !== targetName);\n        }\n      },\n\n      fetchWebshellData(){\n        request({\n          url: '/webshell/findAll',\n          method: 'get',\n        }).then(response => {\n          this.webshells = response.data;\n        }).catch(error => {\n          console.log(error);\n        })\n      },\n\n      selectWebshell(isAddTab){\n        if(isAddTab){\n          this.selectWebshellForm.visible = false;\n          let newTabName = ++this.overview.tabIndex + '';\n          var id = this.selectWebshellForm.webshellId;\n\n          var index = this.overview.tabs.push({\n            title: \"加载中...\",\n            name: newTabName,\n            id:id\n          })-1;\n          this.overview.currentTabName = newTabName;\n\n          request({\n            url: '/webshell/getAndUpdateInfoById',\n            method: 'get',\n            params: { id:id } \n          }).then(response => {\n\n            var url = response.data.url;\n            var res = url.match(/https?:\\/\\/(.*)?\\//);\n            if(res){\n              this.overview.tabs[index].title = res[1];\n            }else{\n              this.overview.tabs[index].title = url;\n            }\n\n            this.overview.tabs[index].url = response.data.url;\n            this.overview.tabs[index].ip_address = response.data.ip_address;\n            this.overview.tabs[index].address = response.data.address;\n            this.overview.tabs[index].user = response.data.user;\n            this.overview.tabs[index].hostname = response.data.hostname;\n            this.overview.tabs[index].version = response.data.version;\n            this.overview.tabs[index].script_filename = response.data.script_filename;\n            this.overview.tabs[index].os = response.data.os;\n            this.$forceUpdate();\n\n            request({\n              url: '/webshell/getProcessListById',\n              method: 'get',\n              params: { id:id } \n            }).then(response => {\n              this.overview.tabs[index].process_list = response.data;\n              this.$forceUpdate();\n            }).catch(error => {\n              console.log(error);\n            })\n\n          }).catch(error => {\n            this.overview.tabs[index].title = \"加载失败\";\n            console.log(error);\n          })\n   \n        }else{\n          this.selectWebshellForm.visible = true;\n        }\n      },\n\n      refreshInfo(index, webshelId) {\n        this.overview.tabs[index].url = '';\n        this.overview.tabs[index].ip_address = '';\n        this.overview.tabs[index].address = '';\n        this.overview.tabs[index].user = '';\n        this.overview.tabs[index].hostname = '';\n        this.overview.tabs[index].version = '';\n        this.overview.tabs[index].script_filename = '';\n        this.overview.tabs[index].os = '';\n        this.$forceUpdate();\n\n        request({\n          url: '/webshell/getAndUpdateInfoById',\n          method: 'get',\n          params: { id:webshelId } \n        }).then(response => {\n\n          this.overview.tabs[index].url = response.data.url;\n          this.overview.tabs[index].ip_address = response.data.ip_address;\n          this.overview.tabs[index].address = response.data.address;\n          this.overview.tabs[index].user = response.data.user;\n          this.overview.tabs[index].hostname = response.data.hostname;\n          this.overview.tabs[index].version = response.data.version;\n          this.overview.tabs[index].script_filename = response.data.script_filename;\n          this.overview.tabs[index].os = response.data.os;\n          this.$forceUpdate();\n  \n        }).catch(error => {\n          console.log(error);\n        })\n      },\n\n      refreshProcessList(index, webshelId) {\n        this.overview.tabs[index].process_list = '';\n        this.$forceUpdate();\n\n        request({\n          url: '/webshell/getProcessListById',\n          method: 'get',\n          params: { id:webshelId } \n        }).then(response => {\n          \n          this.overview.tabs[index].process_list = response.data;\n          this.$forceUpdate();\n\n        }).catch(error => {\n          console.log(error);\n        })\n      }\n\n    },\n\n    created(){\n      this.fetchWebshellData();\n      this.name = this.$route.name;\n      if(this.$route.params.id){\n        this.selectWebshellForm.webshellId = this.$route.params.id\n        this.selectWebshell(true);\n      }\n    },\n\n    watch: {\n      $route(to, from) {\n        if(to.name == this.name){\n          this.fetchWebshellData();\n          if(this.$route.params.id){\n            this.selectWebshellForm.webshellId = this.$route.params.id\n            this.selectWebshell(true);\n          }\n        }\n      }\n    }\n\n  };\n</script>"],"mappings":"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","ignoreList":[]}]}