{"remainingRequest":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/thread-loader/dist/cjs.js!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/database/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/database/index.vue","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/babel.config.js","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/thread-loader/dist/cjs.js","mtime":1715570466495},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js","mtime":1715570465906},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js","mtime":1715570461633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC52YWx1ZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb250ZXh0TWVudTogewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHRvcDogMCwKICAgICAgICBsZWZ0OiAwLAogICAgICAgIGhlaWdodDogMAogICAgICB9LAogICAgICBkYXRhYmFzZUluZm9Gb3JtOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGlzVXBkYXRlOiBmYWxzZSwKICAgICAgICBob3N0OiAiIiwKICAgICAgICBwb3J0OiAzMzA2LAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgdHlwZTogIiIsCiAgICAgICAgY29kZTogIiIsCiAgICAgICAgdmlzaWJsZTogZmFsc2UsCiAgICAgICAgd2Vic2hlbGxJZDogbnVsbCwKICAgICAgICB0YWJfaW5kZXg6IG51bGwKICAgICAgfSwKICAgICAgZWxfdHJlZV9wcm9wczogewogICAgICAgIGxhYmVsOiAnbmFtZScsCiAgICAgICAgaXNMZWFmOiAnaXNsZWFmJwogICAgICB9LAogICAgICB3ZWJzaGVsbHM6IFsKICAgICAgICAvLyB7CiAgICAgICAgLy8gICBpZDogMSwKICAgICAgICAvLyAgIHVybDogImh0dHA6Ly9xcS5jb20vMS5waHAiLAogICAgICAgIC8vIH0KICAgICAgXSwKICAgICAgY29udGVudDogewogICAgICAgIGN1cnJlbnRUYWJOYW1lOiAiIiwKICAgICAgICB0YWJJbmRleDogMCwKICAgICAgICB0YWJzOiBbXQogICAgICB9LAogICAgICBzZWxlY3RXZWJzaGVsbEZvcm06IHsKICAgICAgICB2aXNpYmxlOiBmYWxzZSwKICAgICAgICB3ZWJzaGVsbElkOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBsb2FkTm9kZTogZnVuY3Rpb24gbG9hZE5vZGUobm9kZSwgcmVzb2x2ZSwgaXRlbSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBpZiAobm9kZS5sZXZlbCA9PT0gMCkgewogICAgICAgIC8v6L+U5Zue5pWw5o2u5bqT6YWN572u5YiX6KGoCgogICAgICAgIHJlcXVlc3QoewogICAgICAgICAgdXJsOiAnL2RhdGFiYXNlQ29uZi9nZXRCeVdlYlNoZWxsSWQnLAogICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogaXRlbS53ZWJzaGVsbElkCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciB1cmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICAgIHZhciByZXMgPSB1cmwubWF0Y2goL2h0dHBzPzpcL1wvKC4qKT9cLy8pOwogICAgICAgICAgaWYgKHJlcykgewogICAgICAgICAgICBpdGVtLnRpdGxlID0gcmVzWzFdOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaXRlbS50aXRsZSA9IHVybDsKICAgICAgICAgIH0KICAgICAgICAgIHZhciBkYXRhYmFzZUluZm9zID0gcmVzcG9uc2UuZGF0YS5kYXRhYmFzZXM7CiAgICAgICAgICB2YXIgZGF0YSA9IFtdOwogICAgICAgICAgZGF0YWJhc2VJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRtcCA9IHt9OwogICAgICAgICAgICB0bXBbIm5hbWUiXSA9IHZhbHVlLnVzZXJuYW1lICsgIkAiICsgdmFsdWUuaG9zdCArICI6IiArIHZhbHVlLnBvcnQ7CiAgICAgICAgICAgIHRtcFsiaWQiXSA9IHZhbHVlLmlkOyAvL+iusOW9leaVsOaNruW6k+mFjee9rmlkCiAgICAgICAgICAgIHRtcFsibm9kZUtleSJdID0gdmFsdWUuaWQ7CiAgICAgICAgICAgIHRtcFsiaG9zdCJdID0gdmFsdWUuaG9zdDsgLy/orrDlvZXlhbbku5bphY3nva7kv6Hmga/vvIzkvpvlj7PplK7ngrnlh7vnvJbovpHkuIDmnaHphY3nva7ml7blj5bnlKgKICAgICAgICAgICAgdG1wWyJwb3J0Il0gPSB2YWx1ZS5wb3J0OwogICAgICAgICAgICB0bXBbInVzZXJuYW1lIl0gPSB2YWx1ZS51c2VybmFtZTsKICAgICAgICAgICAgdG1wWyJwYXNzd29yZCJdID0gdmFsdWUucGFzc3dvcmQ7CiAgICAgICAgICAgIHRtcFsiY29kZSJdID0gdmFsdWUuY29kZTsKICAgICAgICAgICAgdG1wWyJ3ZWJzaGVsbElkIl0gPSBpdGVtLndlYnNoZWxsSWQ7CiAgICAgICAgICAgIGRhdGEucHVzaCh0bXApOwogICAgICAgICAgfSk7CiAgICAgICAgICBpZiAoSlNPTi5zdHJpbmdpZnkoZGF0YSkgPT09ICdbXScpIHsKICAgICAgICAgICAgLy/liKTmlq3mmK/lkKbmmK/nqbrmlbDnu4QKICAgICAgICAgICAgaXRlbS5lbXB0eSA9IHRydWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpdGVtLmVtcHR5ID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICBpdGVtLnRpdGxlID0gIuWKoOi9veWksei0pSI7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKG5vZGUubGV2ZWwgPT09IDEpIHsKICAgICAgICAvL+eCueWHu+S6huafkOadoeaVsOaNruW6k+mFjee9ru+8jOW6lOivpei/lOWbnuaVsOaNruW6k+WQjeWIl+ihqAogICAgICAgIHZhciBkYXRhYmFzZUluZm9JZCA9IG5vZGUuZGF0YS5pZDsgLy/mlbDmja7lupPphY3nva5pZAoKICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgIHVybDogJy9kYXRhYmFzZUNvbmYvZ2V0RGF0YWJhc2VzJywKICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaWQ6IGRhdGFiYXNlSW5mb0lkCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIHZhciBkYXRhYmFzZXMgPSByZXNwb25zZS5kYXRhWzBdOwogICAgICAgICAgdmFyIGRhdGEgPSBbXTsKICAgICAgICAgIGRhdGFiYXNlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRtcCA9IHt9OwogICAgICAgICAgICB0bXBbIm5hbWUiXSA9IE9iamVjdC52YWx1ZXModmFsdWUpWzBdOyAvL+aYvuekuueahOWQjeensOOAgeaVsOaNruW6k+WQjQogICAgICAgICAgICB0bXBbImlkIl0gPSBkYXRhYmFzZUluZm9JZDsgLy/orrDlvZXmlbDmja7lupPphY3nva5pZAogICAgICAgICAgICB0bXBbIm5vZGVLZXkiXSA9IGRhdGFiYXNlSW5mb0lkICsgIi4iICsgT2JqZWN0LnZhbHVlcyh2YWx1ZSlbMF07CiAgICAgICAgICAgIGRhdGEucHVzaCh0bXApOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICAgICAgbm9kZS5sb2FkZWQgPSBmYWxzZTsgLy/orr7nva5sb2FkZWTkuLpmYWxzZe+8jOi/meagt+avj+asoeaKmOWPoOWQjuWGjeWxleW8gOaXtuS8mumHjeaWsOivt+axguWQjuerr+iOt+WPluacgOaWsOaVsOaNrgogICAgICAgICAgbm9kZS5pc0xlYWYgPSBmYWxzZTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIHJlc29sdmUoW10pOyAvL3Jlc29sdmXnqbrmlbDnu4TlkI7vvIzkvJrlj5jmiJDlj7blrZDoioLngrnvvIzkuIvpnaLorr7nva7lm57pnZ7lj7blrZDoioLngrnvvIzlubbkuJTorr7nva7kuLrpnZ7lsZXlvIDmnKrliqDovb3vvIzorqnnlKjmiLflj6/ku6Xph43mlrDngrnlh7vliqDovb0KICAgICAgICAgIG5vZGUuZXhwYW5kZWQgPSBmYWxzZTsKICAgICAgICAgIG5vZGUubG9hZGVkID0gZmFsc2U7CiAgICAgICAgICBub2RlLmlzTGVhZiA9IGZhbHNlOwogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGlmIChub2RlLmxldmVsID09PSAyKSB7CiAgICAgICAgLy/ngrnlh7vkuobmn5DmlbDmja7lupPvvIzlupTor6Xov5Tlm57ooajlkI3liJfooagKICAgICAgICB2YXIgX2RhdGFiYXNlSW5mb0lkID0gbm9kZS5kYXRhLmlkOyAvL+aVsOaNruW6k+mFjee9rmlkCiAgICAgICAgdmFyIGRibmFtZSA9IG5vZGUuZGF0YS5uYW1lOyAvL+aVsOaNruW6k+WQjQoKICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgIHVybDogJy9kYXRhYmFzZUNvbmYvZ2V0VGFibGVzJywKICAgICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgaWQ6IF9kYXRhYmFzZUluZm9JZCwKICAgICAgICAgICAgZGJuYW1lOiBkYm5hbWUKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgdmFyIHRhYmxlcyA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgICB2YXIgZGF0YSA9IFtdOwogICAgICAgICAgdGFibGVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgICAgICAgICB2YXIgdG1wID0ge307CiAgICAgICAgICAgIHRtcFsibmFtZSJdID0gT2JqZWN0LnZhbHVlcyh2YWx1ZSlbMF07IC8v5pi+56S655qE5ZCN56ew44CB6KGo5ZCNCiAgICAgICAgICAgIHRtcFsiaWQiXSA9IF9kYXRhYmFzZUluZm9JZDsgLy/orrDlvZXmlbDmja7lupPphY3nva5pZAogICAgICAgICAgICB0bXBbImRibmFtZSJdID0gZGJuYW1lOyAvL+iusOW9leaVsOaNruW6k+WQjQogICAgICAgICAgICB0bXBbIm5vZGVLZXkiXSA9ICIzLiIgKyBfZGF0YWJhc2VJbmZvSWQgKyAiLiIgKyBkYm5hbWUgKyAiLiIgKyBPYmplY3QudmFsdWVzKHZhbHVlKVswXTsKICAgICAgICAgICAgZGF0YS5wdXNoKHRtcCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgICAgICBub2RlLmxvYWRlZCA9IGZhbHNlOyAvL+iuvue9rmxvYWRlZOS4umZhbHNl77yM6L+Z5qC35q+P5qyh5oqY5Y+g5ZCO5YaN5bGV5byA5pe25Lya6YeN5paw6K+35rGC5ZCO56uv6I635Y+W5pyA5paw5pWw5o2uCiAgICAgICAgICBub2RlLmlzTGVhZiA9IGZhbHNlOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgcmVzb2x2ZShbXSk7IC8vcmVzb2x2ZeepuuaVsOe7hOWQju+8jOS8muWPmOaIkOWPtuWtkOiKgueCue+8jOS4i+mdouiuvue9ruWbnumdnuWPtuWtkOiKgueCue+8jOW5tuS4lOiuvue9ruS4uumdnuWxleW8gOacquWKoOi9ve+8jOiuqeeUqOaIt+WPr+S7pemHjeaWsOeCueWHu+WKoOi9vQogICAgICAgICAgbm9kZS5leHBhbmRlZCA9IGZhbHNlOwogICAgICAgICAgbm9kZS5sb2FkZWQgPSBmYWxzZTsKICAgICAgICAgIG5vZGUuaXNMZWFmID0gZmFsc2U7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgaWYgKG5vZGUubGV2ZWwgPT09IDMpIHsKICAgICAgICAvL+eCueWHu+S6huafkOihqO+8jOW6lOivpei/lOWbnuWIl+WQjeWIl+ihqAogICAgICAgIHZhciBfZGF0YWJhc2VJbmZvSWQyID0gbm9kZS5kYXRhLmlkOyAvL+aVsOaNruW6k+mFjee9rmlkCiAgICAgICAgdmFyIF9kYm5hbWUgPSBub2RlLmRhdGEuZGJuYW1lOyAvL+aVsOaNruW6k+WQjQogICAgICAgIHZhciB0YWJsZSA9IG5vZGUuZGF0YS5uYW1lOyAvL+ihqOWQjQoKICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgIHVybDogJy9kYXRhYmFzZUNvbmYvZ2V0Q29sdW1ucycsCiAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGlkOiBfZGF0YWJhc2VJbmZvSWQyLAogICAgICAgICAgICBkYm5hbWU6IF9kYm5hbWUsCiAgICAgICAgICAgIHRhYmxlOiB0YWJsZQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICB2YXIgY29sdW1ucyA9IHJlc3BvbnNlLmRhdGFbMF07CiAgICAgICAgICB2YXIgZGF0YSA9IFtdOwogICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIHRtcCA9IHt9OwogICAgICAgICAgICB0bXBbIm5hbWUiXSA9IHZhbHVlLkZpZWxkICsgIiAoICIgKyB2YWx1ZS5UeXBlICsgIiApICI7IC8v5pi+56S655qE5ZCN56ewCiAgICAgICAgICAgIHRtcFsiaWQiXSA9IF9kYXRhYmFzZUluZm9JZDI7IC8v6K6w5b2V5pWw5o2u5bqT6YWN572uaWQKICAgICAgICAgICAgdG1wWyJkYm5hbWUiXSA9IF9kYm5hbWU7IC8v6K6w5b2V5pWw5o2u5bqT5ZCNCiAgICAgICAgICAgIHRtcFsidGFibGUiXSA9IHRhYmxlOyAvL+iusOW9leihqOWQjQogICAgICAgICAgICB0bXBbImNvbHVtbiJdID0gdmFsdWUuRmllbGQ7IC8v6K6w5b2V5YiX5ZCNCiAgICAgICAgICAgIHRtcFsiaXNsZWFmIl0gPSB0cnVlOyAvL+ihqOekuuaYr+WPtuWtkOiKgueCuQogICAgICAgICAgICBkYXRhLnB1c2godG1wKTsKICAgICAgICAgIH0pOwogICAgICAgICAgcmVzb2x2ZShkYXRhKTsKICAgICAgICAgIG5vZGUubG9hZGVkID0gZmFsc2U7IC8v6K6+572ubG9hZGVk5Li6ZmFsc2XvvIzov5nmoLfmr4/mrKHmipjlj6DlkI7lho3lsZXlvIDml7bkvJrph43mlrDor7fmsYLlkI7nq6/ojrflj5bmnIDmlrDmlbDmja4KICAgICAgICAgIG5vZGUuaXNMZWFmID0gZmFsc2U7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICByZXNvbHZlKFtdKTsgLy9yZXNvbHZl56m65pWw57uE5ZCO77yM5Lya5Y+Y5oiQ5Y+25a2Q6IqC54K577yM5LiL6Z2i6K6+572u5Zue6Z2e5Y+25a2Q6IqC54K577yM5bm25LiU6K6+572u5Li66Z2e5bGV5byA5pyq5Yqg6L2977yM6K6p55So5oi35Y+v5Lul6YeN5paw54K55Ye75Yqg6L29CiAgICAgICAgICBub2RlLmV4cGFuZGVkID0gZmFsc2U7CiAgICAgICAgICBub2RlLmxvYWRlZCA9IGZhbHNlOwogICAgICAgICAgbm9kZS5pc0xlYWYgPSBmYWxzZTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHRlc3Q6IGZ1bmN0aW9uIHRlc3QoKSB7CiAgICAgIGNvbnNvbGUubG9nKDEpOwogICAgfSwKICAgIGhhbmRsZVRhYnNFZGl0OiBmdW5jdGlvbiBoYW5kbGVUYWJzRWRpdCh0YXJnZXROYW1lLCBhY3Rpb24pIHsKICAgICAgaWYgKGFjdGlvbiA9PT0gJ2FkZCcpIHsKICAgICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsKGZhbHNlKTsKICAgICAgfQogICAgICBpZiAoYWN0aW9uID09PSAncmVtb3ZlJykgewogICAgICAgIHZhciB0YWJzID0gdGhpcy5jb250ZW50LnRhYnM7CiAgICAgICAgdmFyIGFjdGl2ZU5hbWUgPSB0aGlzLmNvbnRlbnQuY3VycmVudFRhYk5hbWU7CiAgICAgICAgaWYgKGFjdGl2ZU5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICAgIHRhYnMuZm9yRWFjaChmdW5jdGlvbiAodGFiLCBpbmRleCkgewogICAgICAgICAgICBpZiAodGFiLm5hbWUgPT09IHRhcmdldE5hbWUpIHsKICAgICAgICAgICAgICB2YXIgbmV4dFRhYiA9IHRhYnNbaW5kZXggKyAxXSB8fCB0YWJzW2luZGV4IC0gMV07CiAgICAgICAgICAgICAgaWYgKG5leHRUYWIpIHsKICAgICAgICAgICAgICAgIGFjdGl2ZU5hbWUgPSBuZXh0VGFiLm5hbWU7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb250ZW50LmN1cnJlbnRUYWJOYW1lID0gYWN0aXZlTmFtZTsKICAgICAgICB0aGlzLmNvbnRlbnQudGFicyA9IHRhYnMuZmlsdGVyKGZ1bmN0aW9uICh0YWIpIHsKICAgICAgICAgIHJldHVybiB0YWIubmFtZSAhPT0gdGFyZ2V0TmFtZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGZldGNoV2Vic2hlbGxEYXRhOiBmdW5jdGlvbiBmZXRjaFdlYnNoZWxsRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogJy93ZWJzaGVsbC9maW5kQWxsJywKICAgICAgICBtZXRob2Q6ICdnZXQnCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMyLndlYnNoZWxscyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgc2VsZWN0V2Vic2hlbGw6IGZ1bmN0aW9uIHNlbGVjdFdlYnNoZWxsKGlzQWRkVGFiKSB7CiAgICAgIGlmIChpc0FkZFRhYikgewogICAgICAgIHRoaXMuc2VsZWN0V2Vic2hlbGxGb3JtLnZpc2libGUgPSBmYWxzZTsKICAgICAgICB2YXIgbmV3VGFiTmFtZSA9ICsrdGhpcy5jb250ZW50LnRhYkluZGV4ICsgJyc7CiAgICAgICAgdmFyIHdlYnNoZWxsSWQgPSB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS53ZWJzaGVsbElkOwogICAgICAgIHZhciBpbmRleCA9IHRoaXMuY29udGVudC50YWJzLnB1c2goewogICAgICAgICAgdGl0bGU6ICLliqDovb3kuK0uLi4iLAogICAgICAgICAgbmFtZTogbmV3VGFiTmFtZSwKICAgICAgICAgIHdlYnNoZWxsSWQ6IHdlYnNoZWxsSWQsCiAgICAgICAgICBsaW1pdDogMTAwLAogICAgICAgICAgZGF0YWJhc2VDb25mOiAiIiwKICAgICAgICAgIGRhdGFiYXNlQ29uZklkOiAwLAogICAgICAgICAgZGJuYW1lOiAiIgogICAgICAgIH0pIC0gMTsKICAgICAgICB0aGlzLmNvbnRlbnQuY3VycmVudFRhYk5hbWUgPSBuZXdUYWJOYW1lOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2VsZWN0V2Vic2hlbGxGb3JtLnZpc2libGUgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgYWRkRGF0YWJhc2VJbmZvOiBmdW5jdGlvbiBhZGREYXRhYmFzZUluZm8oaXNTdWJtaXQsIGl0ZW0sIGluZGV4KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICBpZiAoaXNTdWJtaXQpIHsKICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgIHVybDogJy9kYXRhYmFzZUNvbmYvYWRkJywKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICB3ZWJzaGVsbElkOiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0ud2Vic2hlbGxJZCwKICAgICAgICAgICAgaG9zdDogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLmhvc3QsCiAgICAgICAgICAgIHBvcnQ6IHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5wb3J0LAogICAgICAgICAgICB1c2VybmFtZTogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnVzZXJuYW1lLAogICAgICAgICAgICBwYXNzd29yZDogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnBhc3N3b3JkLAogICAgICAgICAgICBjb2RlOiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0uY29kZQogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfmt7vliqDmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzMy5yZWZyZXNoRGF0YShfdGhpczMuZGF0YWJhc2VJbmZvRm9ybS50YWJfaW5kZXgpOwogICAgICAgICAgX3RoaXMzLmRhdGFiYXNlSW5mb0Zvcm0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS50aXRsZSA9ICLmt7vliqDphY3nva4iOwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5pc1VwZGF0ZSA9IGZhbHNlOwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5ob3N0ID0gIiI7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnBvcnQgPSAzMzA2OwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS51c2VybmFtZSA9ICIiOwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5wYXNzd29yZCA9ICIiOwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS50eXBlID0gIk15c3FsIjsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0uY29kZSA9ICJ1dGY4IjsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0udmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLndlYnNoZWxsSWQgPSBpdGVtLndlYnNoZWxsSWQ7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnRhYl9pbmRleCA9IGluZGV4OwogICAgICB9CiAgICB9LAogICAgYWRkT3JVcGRhdGVEYXRhYmFzZUluZm86IGZ1bmN0aW9uIGFkZE9yVXBkYXRlRGF0YWJhc2VJbmZvKCkgewogICAgICBpZiAodGhpcy5kYXRhYmFzZUluZm9Gb3JtLmlzVXBkYXRlKSB7CiAgICAgICAgdGhpcy51cGRhdGVEYXRhYmFzZUluZm8odHJ1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hZGREYXRhYmFzZUluZm8odHJ1ZSwgbnVsbCwgbnVsbCk7CiAgICAgIH0KICAgIH0sCiAgICByZWZyZXNoRGF0YTogZnVuY3Rpb24gcmVmcmVzaERhdGEoaW5kZXgpIHsKICAgICAgdGhpcy4kcmVmcy50cmVlW2luZGV4XS5yb290LmxvYWRlZCA9IGZhbHNlOwogICAgICB0aGlzLiRyZWZzLnRyZWVbaW5kZXhdLnJvb3QuZXhwYW5kZWQgPSBmYWxzZTsKICAgICAgdGhpcy4kcmVmcy50cmVlW2luZGV4XS5yb290LmV4cGFuZCgpOwogICAgfSwKICAgIG5vZGVSaWdodENsaWNrOiBmdW5jdGlvbiBub2RlUmlnaHRDbGljayhldmVudCwgbm9kZSwgaXRlbSwgaW5kZXgpIHsKICAgICAgdGhpcy5jbG9zZU1lbnUoKTsKICAgICAgaWYgKG5vZGUubGV2ZWwgPT0gMSkgewogICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIG9mZnNldExlZnQgPSB0aGlzLiRlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0OwogICAgICAgIHZhciBsZWZ0ID0gZXZlbnQuY2xpZW50WCAtIG9mZnNldExlZnQ7CiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5sZWZ0ID0gbGVmdDsKICAgICAgICBpZiAoZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQgLSBldmVudC5wYWdlWSA8IHRoaXMuY29udGV4dE1lbnUuaGVpZ2h0KSB7CiAgICAgICAgICB0aGlzLmNvbnRleHRNZW51LnRvcCA9IGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0IC0gdGhpcy5jb250ZXh0TWVudS5oZWlnaHQgLSA3MDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb250ZXh0TWVudS50b3AgPSBldmVudC5wYWdlWSAtIDYwOwogICAgICAgIH0KICAgICAgICB0aGlzLmNvbnRleHRNZW51LnZpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMuY29udGV4dE1lbnUuaXRlbSA9IGl0ZW07IC8v6K6w5b2VaXRlbeWSjGluZGV46L+Y5pyJbm9kZSzlnKjngrnlh7voj5zljZXkuK3nmoTpgInpobnml7bpnIDopoHnlKjliLDov5nkuKTkuKrlgLwKICAgICAgICB0aGlzLmNvbnRleHRNZW51LmluZGV4ID0gaW5kZXg7CiAgICAgICAgdGhpcy5jb250ZXh0TWVudS5ub2RlID0gbm9kZTsKICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1lbnUpOwogICAgICB9CiAgICB9LAogICAgY2xvc2VNZW51OiBmdW5jdGlvbiBjbG9zZU1lbnUoKSB7CiAgICAgIHRoaXMuY29udGV4dE1lbnUudmlzaWJsZSA9IGZhbHNlOwogICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1lbnUpOwogICAgfSwKICAgIHVwZGF0ZURhdGFiYXNlSW5mbzogZnVuY3Rpb24gdXBkYXRlRGF0YWJhc2VJbmZvKGlzU3VibWl0KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICBpZiAoaXNTdWJtaXQpIHsKICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgIHVybDogJy9kYXRhYmFzZUNvbmYvdXBkYXRlJywKICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICBpZDogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLmRhdGFiYXNlSW5mb0lkLAogICAgICAgICAgICBob3N0OiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0uaG9zdCwKICAgICAgICAgICAgcG9ydDogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnBvcnQsCiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0udXNlcm5hbWUsCiAgICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0ucGFzc3dvcmQsCiAgICAgICAgICAgIGNvZGU6IHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5jb2RlCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+abtOaWsOaIkOWKnycKICAgICAgICAgIH0pOwogICAgICAgICAgX3RoaXM0LmRhdGFiYXNlSW5mb0Zvcm0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgICAgX3RoaXM0LnJlZnJlc2hEYXRhKF90aGlzNC5kYXRhYmFzZUluZm9Gb3JtLmluZGV4KTsKICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0udGl0bGUgPSAi5L+u5pS56YWN572uIjsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0uaXNVcGRhdGUgPSB0cnVlOwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5ob3N0ID0gdGhpcy5jb250ZXh0TWVudS5ub2RlLmRhdGEuaG9zdDsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0ucG9ydCA9IHRoaXMuY29udGV4dE1lbnUubm9kZS5kYXRhLnBvcnQ7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnVzZXJuYW1lID0gdGhpcy5jb250ZXh0TWVudS5ub2RlLmRhdGEudXNlcm5hbWU7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnBhc3N3b3JkID0gdGhpcy5jb250ZXh0TWVudS5ub2RlLmRhdGEucGFzc3dvcmQ7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnR5cGUgPSAiTXlzcWwiOwogICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvRm9ybS5jb2RlID0gdGhpcy5jb250ZXh0TWVudS5ub2RlLmRhdGEuY29kZTsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0udmlzaWJsZSA9IHRydWU7CiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm9Gb3JtLmluZGV4ID0gdGhpcy5jb250ZXh0TWVudS5pbmRleDsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0uZGF0YWJhc2VJbmZvSWQgPSB0aGlzLmNvbnRleHRNZW51Lm5vZGUuZGF0YS5pZDsKICAgICAgICB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0ud2Vic2hlbGxJZCA9IHRoaXMuY29udGV4dE1lbnUubm9kZS5kYXRhLndlYnNoZWxsSWQ7CiAgICAgIH0KICAgIH0sCiAgICBjb250ZXh0TWVudV9hZGREYXRhYmFzZUluZm86IGZ1bmN0aW9uIGNvbnRleHRNZW51X2FkZERhdGFiYXNlSW5mbygpIHsKICAgICAgdGhpcy5hZGREYXRhYmFzZUluZm8oZmFsc2UsIHRoaXMuY29udGV4dE1lbnUuaXRlbSwgdGhpcy5jb250ZXh0TWVudS5pbmRleCk7CiAgICB9LAogICAgZGVsZXRlRGF0YWJhc2VJbmZvOiBmdW5jdGlvbiBkZWxldGVEYXRhYmFzZUluZm8oKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmraTmk43kvZzlsIbmsLjkuYXliKDpmaTor6XphY3nva4sIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmVxdWVzdCh7CiAgICAgICAgICB1cmw6ICcvZGF0YWJhc2VDb25mL2RlbGV0ZUJ5SWQnLAogICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogX3RoaXM1LmNvbnRleHRNZW51Lm5vZGUuZGF0YS5pZAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczUuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nCiAgICAgICAgICB9KTsKICAgICAgICAgIF90aGlzNS5yZWZyZXNoRGF0YShfdGhpczUuY29udGV4dE1lbnUuaW5kZXgpOwogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgIG1lc3NhZ2U6ICflt7Llj5bmtojliKDpmaQnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHRlc3RDb25uZWN0aW9uOiBmdW5jdGlvbiB0ZXN0Q29ubmVjdGlvbigpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHJlcXVlc3QoewogICAgICAgIHVybDogJy9kYXRhYmFzZUNvbmYvdGVzdENvbm5lY3Rpb24nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGRhdGE6IHsKICAgICAgICAgIHdlYnNoZWxsSWQ6IHRoaXMuZGF0YWJhc2VJbmZvRm9ybS53ZWJzaGVsbElkLAogICAgICAgICAgaG9zdDogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLmhvc3QsCiAgICAgICAgICBwb3J0OiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0ucG9ydCwKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmRhdGFiYXNlSW5mb0Zvcm0udXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLnBhc3N3b3JkLAogICAgICAgICAgY29kZTogdGhpcy5kYXRhYmFzZUluZm9Gb3JtLmNvZGUKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEpIHsKICAgICAgICAgIF90aGlzNi4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgbWVzc2FnZTogJ+i/nuaOpeaIkOWKnycKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczYuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgbm9kZUNsaWNrOiBmdW5jdGlvbiBub2RlQ2xpY2sobm9kZSwgaXRlbSwgaW5kZXgpIHsKICAgICAgaWYgKG5vZGUubGV2ZWwgPT0gMSkgewogICAgICAgIGl0ZW0uZGF0YWJhc2VDb25mSWQgPSBub2RlLmRhdGEuaWQ7CiAgICAgICAgaXRlbS5kYXRhYmFzZUNvbmYgPSBub2RlLmRhdGEubmFtZTsKICAgICAgfSBlbHNlIGlmIChub2RlLmxldmVsID09IDIpIHsKICAgICAgICBpdGVtLmRhdGFiYXNlQ29uZklkID0gbm9kZS5wYXJlbnQuZGF0YS5pZDsKICAgICAgICBpdGVtLmRhdGFiYXNlQ29uZiA9IG5vZGUucGFyZW50LmRhdGEubmFtZTsKICAgICAgICBpdGVtLmRibmFtZSA9IG5vZGUuZGF0YS5uYW1lOwogICAgICB9IGVsc2UgaWYgKG5vZGUubGV2ZWwgPT0gMykgewogICAgICAgIGl0ZW0uZGF0YWJhc2VDb25mSWQgPSBub2RlLnBhcmVudC5wYXJlbnQuZGF0YS5pZDsKICAgICAgICBpdGVtLmRhdGFiYXNlQ29uZiA9IG5vZGUucGFyZW50LnBhcmVudC5kYXRhLm5hbWU7CiAgICAgICAgaXRlbS5kYm5hbWUgPSBub2RlLnBhcmVudC5kYXRhLm5hbWU7CiAgICAgIH0gZWxzZSBpZiAobm9kZS5sZXZlbCA9PSA0KSB7CiAgICAgICAgaXRlbS5kYXRhYmFzZUNvbmZJZCA9IG5vZGUucGFyZW50LnBhcmVudC5wYXJlbnQuZGF0YS5pZDsKICAgICAgICBpdGVtLmRhdGFiYXNlQ29uZiA9IG5vZGUucGFyZW50LnBhcmVudC5wYXJlbnQuZGF0YS5uYW1lOwogICAgICAgIGl0ZW0uZGJuYW1lID0gbm9kZS5wYXJlbnQucGFyZW50LmRhdGEubmFtZTsKICAgICAgfQogICAgfSwKICAgIGV4ZWN1dGVTUUw6IGZ1bmN0aW9uIGV4ZWN1dGVTUUwoaXRlbSkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKICAgICAgaXRlbS5yZXN1bHRzID0gW1tdXTsKICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKICAgICAgcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL2RhdGFiYXNlQ29uZi9leGVjdXRlU1FMJywKICAgICAgICBtZXRob2Q6ICdwb3N0JywKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBpZDogaXRlbS5kYXRhYmFzZUNvbmZJZCwKICAgICAgICAgIGRibmFtZTogaXRlbS5kYm5hbWUsCiAgICAgICAgICBTUUw6IGl0ZW0uU1FMLAogICAgICAgICAgbGltaXQ6IE51bWJlcihpdGVtLmxpbWl0KQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpdGVtLnJlc3VsdHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzNy4kZm9yY2VVcGRhdGUoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoV2Vic2hlbGxEYXRhKCk7CiAgICB0aGlzLm5hbWUgPSB0aGlzLiRyb3V0ZS5uYW1lOwogICAgaWYgKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkgewogICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS53ZWJzaGVsbElkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsKHRydWUpOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKHRvLCBmcm9tKSB7CiAgICAgIGlmICh0by5uYW1lID09IHRoaXMubmFtZSkgewogICAgICAgIHRoaXMuZmV0Y2hXZWJzaGVsbERhdGEoKTsKICAgICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkKSB7CiAgICAgICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsRm9ybS53ZWJzaGVsbElkID0gdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbCh0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB3aW5kb3cudnVlID0gdGhpczsKICB9Cn07"},null]}