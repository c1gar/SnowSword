{"remainingRequest":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/overview/index.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/src/views/overview/index.vue","mtime":1671438929000},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/babel-loader/lib/index.js","mtime":1715570465906},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/cache-loader/dist/cjs.js","mtime":1715570484549},{"path":"/Users/cigar/Downloads/SnowSword-main/FrontEnd/snowsword/node_modules/vue-loader/lib/index.js","mtime":1715570461633}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCByZXF1ZXN0IGZyb20gJ0AvdXRpbHMvcmVxdWVzdCcKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgd2Vic2hlbGxzOiBbCiAgICAgICAgLy8gewogICAgICAgIC8vICAgaWQ6IDEsCiAgICAgICAgLy8gICB1cmw6ICJodHRwOi8vcXEuY29tLzEucGhwIiwKICAgICAgICAvLyB9CiAgICAgIF0sCgogICAgICBvdmVydmlldzp7CiAgICAgICAgY3VycmVudFRhYk5hbWU6IG51bGwsCiAgICAgICAgdGFiSW5kZXg6MCwKCiAgICAgICAgdGFiczpbCiAgICAgICAgICAvLyB7dGl0bGU6ICdUYWIgMScsCiAgICAgICAgICAvLyBuYW1lOiAnMScsCiAgICAgICAgICAKICAgICAgICAgIC8vIHVybDonJywKICAgICAgICAgIC8vIGlwX2FkZHJlc3M6JycsCiAgICAgICAgICAvLyBhZGRyZXNzOicnLAogICAgICAgICAgLy8gdXNlcjonJywKICAgICAgICAgIC8vIGhvc3RuYW1lOicnLAogICAgICAgICAgLy8gdmVyc2lvbjonJywKICAgICAgICAgIC8vIHNjcmlwdF9maWxlbmFtZTonJywKICAgICAgICAgIC8vIG9zOicnLAogICAgICAgICAgLy8gcHJvY2Vzc19saXN0OicnfQogICAgICAgIF0sCiAgICAgIH0sCgogICAgICBzZWxlY3RXZWJzaGVsbEZvcm06ewogICAgICAgIHZpc2libGU6IGZhbHNlLAogICAgICAgIHdlYnNoZWxsSWQ6IG51bGwKICAgICAgfQoKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVRhYnNFZGl0KHRhcmdldE5hbWUsIGFjdGlvbikgewogICAgICBpZiAoYWN0aW9uID09PSAnYWRkJykgewogICAgICAgIHRoaXMuc2VsZWN0V2Vic2hlbGwoZmFsc2UpOwogICAgICB9CiAgICAgIGlmIChhY3Rpb24gPT09ICdyZW1vdmUnKSB7CiAgICAgICAgbGV0IHRhYnMgPSB0aGlzLm92ZXJ2aWV3LnRhYnM7CiAgICAgICAgbGV0IGFjdGl2ZU5hbWUgPSB0aGlzLm92ZXJ2aWV3LmN1cnJlbnRUYWJOYW1lOwogICAgICAgIGlmIChhY3RpdmVOYW1lID09PSB0YXJnZXROYW1lKSB7CiAgICAgICAgICB0YWJzLmZvckVhY2goKHRhYiwgaW5kZXgpID0+IHsKICAgICAgICAgICAgaWYgKHRhYi5uYW1lID09PSB0YXJnZXROYW1lKSB7CiAgICAgICAgICAgICAgbGV0IG5leHRUYWIgPSB0YWJzW2luZGV4ICsgMV0gfHwgdGFic1tpbmRleCAtIDFdOwogICAgICAgICAgICAgIGlmIChuZXh0VGFiKSB7CiAgICAgICAgICAgICAgICBhY3RpdmVOYW1lID0gbmV4dFRhYi5uYW1lOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHRoaXMub3ZlcnZpZXcuY3VycmVudFRhYk5hbWUgPSBhY3RpdmVOYW1lOwogICAgICAgIHRoaXMub3ZlcnZpZXcudGFicyA9IHRhYnMuZmlsdGVyKHRhYiA9PiB0YWIubmFtZSAhPT0gdGFyZ2V0TmFtZSk7CiAgICAgIH0KICAgIH0sCgogICAgZmV0Y2hXZWJzaGVsbERhdGEoKXsKICAgICAgcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL3dlYnNoZWxsL2ZpbmRBbGwnLAogICAgICAgIG1ldGhvZDogJ2dldCcsCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMud2Vic2hlbGxzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT4gewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfSkKICAgIH0sCgogICAgc2VsZWN0V2Vic2hlbGwoaXNBZGRUYWIpewogICAgICBpZihpc0FkZFRhYil7CiAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0udmlzaWJsZSA9IGZhbHNlOwogICAgICAgIGxldCBuZXdUYWJOYW1lID0gKyt0aGlzLm92ZXJ2aWV3LnRhYkluZGV4ICsgJyc7CiAgICAgICAgdmFyIGlkID0gdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0ud2Vic2hlbGxJZDsKCiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5vdmVydmlldy50YWJzLnB1c2goewogICAgICAgICAgdGl0bGU6ICLliqDovb3kuK0uLi4iLAogICAgICAgICAgbmFtZTogbmV3VGFiTmFtZSwKICAgICAgICAgIGlkOmlkCiAgICAgICAgfSktMTsKICAgICAgICB0aGlzLm92ZXJ2aWV3LmN1cnJlbnRUYWJOYW1lID0gbmV3VGFiTmFtZTsKCiAgICAgICAgcmVxdWVzdCh7CiAgICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZ2V0QW5kVXBkYXRlSW5mb0J5SWQnLAogICAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICAgIHBhcmFtczogeyBpZDppZCB9IAogICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewoKICAgICAgICAgIHZhciB1cmwgPSByZXNwb25zZS5kYXRhLnVybDsKICAgICAgICAgIHZhciByZXMgPSB1cmwubWF0Y2goL2h0dHBzPzpcL1wvKC4qKT9cLy8pOwogICAgICAgICAgaWYocmVzKXsKICAgICAgICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS50aXRsZSA9IHJlc1sxXTsKICAgICAgICAgIH1lbHNlewogICAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnRpdGxlID0gdXJsOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0udXJsID0gcmVzcG9uc2UuZGF0YS51cmw7CiAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLmlwX2FkZHJlc3MgPSByZXNwb25zZS5kYXRhLmlwX2FkZHJlc3M7CiAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLmFkZHJlc3MgPSByZXNwb25zZS5kYXRhLmFkZHJlc3M7CiAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnVzZXIgPSByZXNwb25zZS5kYXRhLnVzZXI7CiAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLmhvc3RuYW1lID0gcmVzcG9uc2UuZGF0YS5ob3N0bmFtZTsKICAgICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0udmVyc2lvbiA9IHJlc3BvbnNlLmRhdGEudmVyc2lvbjsKICAgICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0uc2NyaXB0X2ZpbGVuYW1lID0gcmVzcG9uc2UuZGF0YS5zY3JpcHRfZmlsZW5hbWU7CiAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLm9zID0gcmVzcG9uc2UuZGF0YS5vczsKICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICAgICAgcmVxdWVzdCh7CiAgICAgICAgICAgIHVybDogJy93ZWJzaGVsbC9nZXRQcm9jZXNzTGlzdEJ5SWQnLAogICAgICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgICAgICBwYXJhbXM6IHsgaWQ6aWQgfSAKICAgICAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnByb2Nlc3NfbGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CiAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0pCgogICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0udGl0bGUgPSAi5Yqg6L295aSx6LSlIjsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KQogCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMuc2VsZWN0V2Vic2hlbGxGb3JtLnZpc2libGUgPSB0cnVlOwogICAgICB9CiAgICB9LAoKICAgIHJlZnJlc2hJbmZvKGluZGV4LCB3ZWJzaGVsSWQpIHsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS51cmwgPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5pcF9hZGRyZXNzID0gJyc7CiAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0uYWRkcmVzcyA9ICcnOwogICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnVzZXIgPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5ob3N0bmFtZSA9ICcnOwogICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnZlcnNpb24gPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5zY3JpcHRfZmlsZW5hbWUgPSAnJzsKICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5vcyA9ICcnOwogICAgICB0aGlzLiRmb3JjZVVwZGF0ZSgpOwoKICAgICAgcmVxdWVzdCh7CiAgICAgICAgdXJsOiAnL3dlYnNoZWxsL2dldEFuZFVwZGF0ZUluZm9CeUlkJywKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHBhcmFtczogeyBpZDp3ZWJzaGVsSWQgfSAKICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CgogICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0udXJsID0gcmVzcG9uc2UuZGF0YS51cmw7CiAgICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5pcF9hZGRyZXNzID0gcmVzcG9uc2UuZGF0YS5pcF9hZGRyZXNzOwogICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0uYWRkcmVzcyA9IHJlc3BvbnNlLmRhdGEuYWRkcmVzczsKICAgICAgICB0aGlzLm92ZXJ2aWV3LnRhYnNbaW5kZXhdLnVzZXIgPSByZXNwb25zZS5kYXRhLnVzZXI7CiAgICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5ob3N0bmFtZSA9IHJlc3BvbnNlLmRhdGEuaG9zdG5hbWU7CiAgICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS52ZXJzaW9uID0gcmVzcG9uc2UuZGF0YS52ZXJzaW9uOwogICAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0uc2NyaXB0X2ZpbGVuYW1lID0gcmVzcG9uc2UuZGF0YS5zY3JpcHRfZmlsZW5hbWU7CiAgICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5vcyA9IHJlc3BvbnNlLmRhdGEub3M7CiAgICAgICAgdGhpcy4kZm9yY2VVcGRhdGUoKTsKCiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0pCiAgICB9LAoKICAgIHJlZnJlc2hQcm9jZXNzTGlzdChpbmRleCwgd2Vic2hlbElkKSB7CiAgICAgIHRoaXMub3ZlcnZpZXcudGFic1tpbmRleF0ucHJvY2Vzc19saXN0ID0gJyc7CiAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICByZXF1ZXN0KHsKICAgICAgICB1cmw6ICcvd2Vic2hlbGwvZ2V0UHJvY2Vzc0xpc3RCeUlkJywKICAgICAgICBtZXRob2Q6ICdnZXQnLAogICAgICAgIHBhcmFtczogeyBpZDp3ZWJzaGVsSWQgfSAKICAgICAgfSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgCiAgICAgICAgdGhpcy5vdmVydmlldy50YWJzW2luZGV4XS5wcm9jZXNzX2xpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIHRoaXMuJGZvcmNlVXBkYXRlKCk7CgogICAgICB9KS5jYXRjaChlcnJvciA9PiB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KQogICAgfQoKICB9LAoKICBjcmVhdGVkKCl7CiAgICB0aGlzLmZldGNoV2Vic2hlbGxEYXRhKCk7CiAgICB0aGlzLm5hbWUgPSB0aGlzLiRyb3V0ZS5uYW1lOwogICAgaWYodGhpcy4kcm91dGUucGFyYW1zLmlkKXsKICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0ud2Vic2hlbGxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICB0aGlzLnNlbGVjdFdlYnNoZWxsKHRydWUpOwogICAgfQogIH0sCgogIHdhdGNoOiB7CiAgICAkcm91dGUodG8sIGZyb20pIHsKICAgICAgaWYodG8ubmFtZSA9PSB0aGlzLm5hbWUpewogICAgICAgIHRoaXMuZmV0Y2hXZWJzaGVsbERhdGEoKTsKICAgICAgICBpZih0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpewogICAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbEZvcm0ud2Vic2hlbGxJZCA9IHRoaXMuJHJvdXRlLnBhcmFtcy5pZAogICAgICAgICAgdGhpcy5zZWxlY3RXZWJzaGVsbCh0cnVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cgp9Owo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4EA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"index.vue","sourceRoot":"src/views/overview","sourcesContent":["<template>\n  <el-container>\n    <el-main>\n      <el-tabs v-model=\"overview.currentTabName\" type=\"card\" editable @edit=\"handleTabsEdit\">\n        <el-tab-pane\n          :key=\"item.name\"\n          v-for=\"item, index in overview.tabs\"\n          :label=\"item.title\"\n          :name=\"item.name\"\n        >\n          <el-descriptions title=\"基础信息\" :column=\"1\" border>\n            <template slot=\"extra\">\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"刷新\" placement=\"left\">\n                <el-button circle icon=\"el-icon-refresh\" size=\"mini\" @click=\"refreshInfo(index, item.id)\"></el-button>\n              </el-tooltip>\n            </template>\n            <el-descriptions-item label=\"URL\">{{item.url}}</el-descriptions-item>\n            <el-descriptions-item label=\"IP地址\">{{item.ip_address}}</el-descriptions-item>\n            <el-descriptions-item label=\"物理地址\">{{item.address}}</el-descriptions-item>\n            <el-descriptions-item label=\"当前用户\">{{item.user}}</el-descriptions-item>\n            <el-descriptions-item label=\"主机名\">{{item.hostname}}</el-descriptions-item>\n            <el-descriptions-item label=\"PHP版本\">{{item.version}}</el-descriptions-item>\n            <el-descriptions-item label=\"脚本路径\">{{item.script_filename}}</el-descriptions-item>\n            <el-descriptions-item label=\"系统信息\">{{item.os}}</el-descriptions-item>\n          </el-descriptions>\n\n          <br>\n\n          <el-descriptions title=\"进程列表\" :colon=\"false\">\n            <template slot=\"extra\">\n              <el-tooltip class=\"item\" effect=\"dark\" content=\"刷新\" placement=\"left\">\n                <el-button circle icon=\"el-icon-refresh\" size=\"mini\"  @click=\"refreshProcessList(index, item.id)\"></el-button>\n              </el-tooltip>\n            </template>\n            <el-descriptions-item>\n              <el-input\n                :readonly=\"true\"\n                type=\"textarea\"\n                :rows=\"10\"\n                v-model=\"item.process_list\">\n              </el-input>\n            </el-descriptions-item>\n          </el-descriptions>\n\n        </el-tab-pane>\n      </el-tabs>\n      <el-empty v-if=\"overview.tabs.length == 0\" description=\"未选择Webshell\"></el-empty>\n    </el-main>\n\n    <el-dialog title=\"选择数据\" :visible.sync=\"selectWebshellForm.visible\" width=\"40%\">\n      <el-form :model=\"selectWebshellForm\">\n        <el-form-item label=\"URL\" required>\n          <el-select v-model=\"selectWebshellForm.webshellId\" placeholder=\"请选择\" style=\"width:85%\">\n            <el-option\n              v-for=\"item in webshells\"\n              :key=\"item.id\"\n              :label=\"item.url\"\n              :value=\"item.id\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"selectWebshellForm.visible = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"selectWebshell(true)\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </el-container>\n</template>\n\n<style>\n</style>\n\n\n<script>\n  import request from '@/utils/request'\n\n  export default {\n    data() {\n      return {\n        webshells: [\n          // {\n          //   id: 1,\n          //   url: \"http://qq.com/1.php\",\n          // }\n        ],\n\n        overview:{\n          currentTabName: null,\n          tabIndex:0,\n\n          tabs:[\n            // {title: 'Tab 1',\n            // name: '1',\n            \n            // url:'',\n            // ip_address:'',\n            // address:'',\n            // user:'',\n            // hostname:'',\n            // version:'',\n            // script_filename:'',\n            // os:'',\n            // process_list:''}\n          ],\n        },\n\n        selectWebshellForm:{\n          visible: false,\n          webshellId: null\n        }\n\n      }\n    },\n    methods: {\n      handleTabsEdit(targetName, action) {\n        if (action === 'add') {\n          this.selectWebshell(false);\n        }\n        if (action === 'remove') {\n          let tabs = this.overview.tabs;\n          let activeName = this.overview.currentTabName;\n          if (activeName === targetName) {\n            tabs.forEach((tab, index) => {\n              if (tab.name === targetName) {\n                let nextTab = tabs[index + 1] || tabs[index - 1];\n                if (nextTab) {\n                  activeName = nextTab.name;\n                }\n              }\n            });\n          }\n          \n          this.overview.currentTabName = activeName;\n          this.overview.tabs = tabs.filter(tab => tab.name !== targetName);\n        }\n      },\n\n      fetchWebshellData(){\n        request({\n          url: '/webshell/findAll',\n          method: 'get',\n        }).then(response => {\n          this.webshells = response.data;\n        }).catch(error => {\n          console.log(error);\n        })\n      },\n\n      selectWebshell(isAddTab){\n        if(isAddTab){\n          this.selectWebshellForm.visible = false;\n          let newTabName = ++this.overview.tabIndex + '';\n          var id = this.selectWebshellForm.webshellId;\n\n          var index = this.overview.tabs.push({\n            title: \"加载中...\",\n            name: newTabName,\n            id:id\n          })-1;\n          this.overview.currentTabName = newTabName;\n\n          request({\n            url: '/webshell/getAndUpdateInfoById',\n            method: 'get',\n            params: { id:id } \n          }).then(response => {\n\n            var url = response.data.url;\n            var res = url.match(/https?:\\/\\/(.*)?\\//);\n            if(res){\n              this.overview.tabs[index].title = res[1];\n            }else{\n              this.overview.tabs[index].title = url;\n            }\n\n            this.overview.tabs[index].url = response.data.url;\n            this.overview.tabs[index].ip_address = response.data.ip_address;\n            this.overview.tabs[index].address = response.data.address;\n            this.overview.tabs[index].user = response.data.user;\n            this.overview.tabs[index].hostname = response.data.hostname;\n            this.overview.tabs[index].version = response.data.version;\n            this.overview.tabs[index].script_filename = response.data.script_filename;\n            this.overview.tabs[index].os = response.data.os;\n            this.$forceUpdate();\n\n            request({\n              url: '/webshell/getProcessListById',\n              method: 'get',\n              params: { id:id } \n            }).then(response => {\n              this.overview.tabs[index].process_list = response.data;\n              this.$forceUpdate();\n            }).catch(error => {\n              console.log(error);\n            })\n\n          }).catch(error => {\n            this.overview.tabs[index].title = \"加载失败\";\n            console.log(error);\n          })\n   \n        }else{\n          this.selectWebshellForm.visible = true;\n        }\n      },\n\n      refreshInfo(index, webshelId) {\n        this.overview.tabs[index].url = '';\n        this.overview.tabs[index].ip_address = '';\n        this.overview.tabs[index].address = '';\n        this.overview.tabs[index].user = '';\n        this.overview.tabs[index].hostname = '';\n        this.overview.tabs[index].version = '';\n        this.overview.tabs[index].script_filename = '';\n        this.overview.tabs[index].os = '';\n        this.$forceUpdate();\n\n        request({\n          url: '/webshell/getAndUpdateInfoById',\n          method: 'get',\n          params: { id:webshelId } \n        }).then(response => {\n\n          this.overview.tabs[index].url = response.data.url;\n          this.overview.tabs[index].ip_address = response.data.ip_address;\n          this.overview.tabs[index].address = response.data.address;\n          this.overview.tabs[index].user = response.data.user;\n          this.overview.tabs[index].hostname = response.data.hostname;\n          this.overview.tabs[index].version = response.data.version;\n          this.overview.tabs[index].script_filename = response.data.script_filename;\n          this.overview.tabs[index].os = response.data.os;\n          this.$forceUpdate();\n  \n        }).catch(error => {\n          console.log(error);\n        })\n      },\n\n      refreshProcessList(index, webshelId) {\n        this.overview.tabs[index].process_list = '';\n        this.$forceUpdate();\n\n        request({\n          url: '/webshell/getProcessListById',\n          method: 'get',\n          params: { id:webshelId } \n        }).then(response => {\n          \n          this.overview.tabs[index].process_list = response.data;\n          this.$forceUpdate();\n\n        }).catch(error => {\n          console.log(error);\n        })\n      }\n\n    },\n\n    created(){\n      this.fetchWebshellData();\n      this.name = this.$route.name;\n      if(this.$route.params.id){\n        this.selectWebshellForm.webshellId = this.$route.params.id\n        this.selectWebshell(true);\n      }\n    },\n\n    watch: {\n      $route(to, from) {\n        if(to.name == this.name){\n          this.fetchWebshellData();\n          if(this.$route.params.id){\n            this.selectWebshellForm.webshellId = this.$route.params.id\n            this.selectWebshell(true);\n          }\n        }\n      }\n    }\n\n  };\n</script>"]}]}